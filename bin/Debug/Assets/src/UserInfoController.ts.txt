/*
* name;
*/
class UserInfoController{
    static me:UserInfoController;
    // static gameName:string = 'runningball';
    // static gameName:string = 'adTest';
    static gameName:string = 'chiji';
    constructor(){
        UserInfoController.me = this;
    }

    public wxcode:string;
    public openidMd5:string;//这里是
    public session_key:string;
    public unionid:string;

    public code2Session(callback){
        HttpController.me.simplePost(HttpController.baseURL + HttpController.code2SessionURL, 
        {
            code:this.wxcode,
            gameName:UserInfoController.gameName
        },
        function(data){
            UserInfoController.me.session_key = data.Session_key;
            UserInfoController.me.openidMd5 = data.OpenidMd5;

            ShareController.me.getShareData(callback);
        })
    }
}